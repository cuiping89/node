# **EdgeBox 通用配置指南**

欢迎使用 EdgeBox！为了让您在任何客户端上都能获得最佳体验，请在配置前花几分钟阅读本通用指南。

## **1. 核心原则：永远使用“订阅链接”**

EdgeBox 的所有强大功能，如协议自动更新、无缝证书切换、用户管理等，都依赖于 **订阅链接** 来实现。

-   **您的专属订阅链接**：安装完成后，您可以在控制面板或通过 `edgeboxctl sub` 命令获取，格式通常为：
    -   `http://<您的IP或域名>/sub-<一长串随机字符>`

-   **为什么不能使用节点链接？**
    请 **绝对不要** 从客户端中复制单个节点的分享链接（如 `vless://...`, `trojan://...` 等）进行分享或备份。这些是“静态”链接，无法自动更新，一旦服务器配置变更（如更换 Reality 密钥），这些链接将永久失效。

| 使用方式 | 优点 | 缺点 | 推荐度 |
| :--- | :--- | :--- | :--- |
| ✅ **订阅链接** | 统一管理、自动更新、无缝切换 | 无 | ⭐⭐⭐⭐⭐ |
| ❌ **节点链接** | 简单直接 | **无法更新**、配置变更后失效 | ⛔ **严禁** |

## **2. 理解“IP 模式”与“域名模式”**

EdgeBox 支持两种工作模式，这会影响部分协议在客户端的配置方式。

### **IP 模式 (默认)**

-   **特点**：安装后无需域名即可使用。
-   **证书**：使用自动生成的**自签名证书**。
-   **客户端配置**：对于 VLESS-gRPC/WS, Trojan-TLS, Hysteria2, TUIC 协议，客户端需要开启 **“跳过证书验证”** 或 **“允许不安全连接 (allowInsecure)”** 选项。
    > 💡 **放心使用**：EdgeBox 生成的订阅链接已自动为您处理好这些参数，您通常无需手动设置。这在技术上是安全的，因为数据依然经过了 TLS 加密。

### **域名模式**

-   **特点**：使用您自己的域名，提供完全受信任的 TLS 连接。
-   **证书**：使用 Let's Encrypt 颁发的 CA 证书。
-   **客户端配置**：所有协议均可安全连接，**无需**开启任何“跳过证书验证”的选项。连接行为与访问普通 HTTPS 网站无异，具有最佳的兼容性和伪装性。

> 🚀 **切换建议**：如果您拥有自己的域名，强烈建议使用 `edgeboxctl switch-to-domain <您的域名>` 命令切换到域名模式，以获得最佳体验。

## **3. 客户端推荐**

请根据您的操作系统，从左侧目录选择对应的详细配置指南。

-   **Windows**: v2rayN (全能型), Clash Verge (规则驱动)
-   **macOS**: Clash Verge
-   **Android**: v2rayNG (全能型)
-   **iOS**: Shadowrocket (俗称“小火箭”, 推荐)

如果遇到任何问题，请优先查阅对应客户端的指南。祝您使用愉快！
