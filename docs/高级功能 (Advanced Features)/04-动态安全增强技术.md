
# **高级安全增强功能指南**

EdgeBox 不仅仅是提供多种协议，它还内置了一套先进的自动化安全系统，旨在动态地增强您连接的隐蔽性和健壮性，最大限度地降低被识别和干扰的风险。

本指南将向您介绍三大核心安全特性：**Reality 密钥轮换**、**SNI 域名池管理** 和 **流量特征随机化**。

-----

## **1. Reality 密钥轮换系统**

### 这是什么？

可以将其理解为您 Reality 协议连接的“锁和钥匙”。为了安全，这套“锁和钥匙”不应该永久不变。EdgeBox 的密钥轮换系统会自动在一定周期后（默认为60天）为您生成一套全新的密钥对。

### 它有什么好处？

  * **降低长期暴露风险**：长期使用同一套密钥会增加被特征分析和识别的可能性。定期轮换就像定期更换门锁，让潜在的攻击者无法长期盯防。
  * **提升安全性**：即使旧密钥在未来某个时刻被破解，由于您已经更换了新密钥，历史流量的安全性依然得到保障。

### 我需要做什么？

**几乎什么都不用做。** 系统已经为您配置了定时任务，会在后台自动检查并执行轮换。

如果您想手动管理，可以使用以下命令：

| 命令 | 功能说明 |
| :--- | :--- |
| `edgeboxctl reality-status` | 查看当前密钥的状态，包括上次轮换时间和下次计划轮换的时间。 |
| `edgeboxctl rotate-reality` | 手动立即触发一次密钥轮换。 |
| `edgeboxctl rotate-reality --force` | 强制执行轮换，忽略冷却时间限制。 |
| `edgeboxctl rotate-sid` | 无缝轮换 Reality 的 `shortId`。这是一个更轻量级的操作，系统也会定期自动执行，为您的连接提供另一层动态变化。 |

-----

## **2. SNI 域名池智能管理**

### 这是什么？

当您使用 Reality 协议时，您的连接会伪装成访问一个真实的、知名的大网站（如 `www.microsoft.com`）。这个用来伪装的域名就是 SNI。如果长期只伪装成访问同一个网站，也可能形成一种固定的行为特征。

SNI 域名池管理系统会自动从一个包含多个知名网站（如微软、苹果、Cloudflare）的“伪装目标池”中，智能地测试并选择一个当前访问质量最好的域名来作为您的伪装目标。

### 它有什么好处？

  * **动态伪装，避免特征固化**：定期更换伪装目标，让您的流量每次看起来都像是在访问不同的热门网站，从而打破行为定势，大幅提升隐蔽性。
  * **保证连接质量**：系统会自动选择延迟最低、最稳定的域名作为伪装目标，确保您的 Reality 连接始终保持在最佳状态。

### 我需要做什么？

**同样，几乎什么都不用做。** 系统已配置了每周一次的定时任务，会自动为您选择最优的 SNI 域名。

如果您想手动管理，可以使用以下命令：

| 命令 | 功能说明 |
| :--- | :--- |
| `edgeboxctl sni auto` | **（推荐）** 立即手动触发一次智能选择，系统会自动测试并应用当前最优的 SNI 域名。 |
| `edgeboxctl sni list` | 查看当前域名池中有哪些可用的伪装域名及其状态。 |
| `edgeboxctl sni test-all` | 对池中所有域名进行一次连通性测试。 |
| `edgeboxctl sni set <域名>` | 手动强制指定一个伪装域名，例如 `edgeboxctl sni set www.apple.com`。 |

-----

## **3. 流量特征随机化**

### 这是什么？

除了伪装访问目标（SNI），不同代理协议的流量在数据包大小、发送间隔等方面也存在细微的“行为特征”。流量特征随机化功能会自动、定期地微调 Hysteria2 和 TUIC 等协议的一些底层参数（如伪装站点），目的是让流量的“行为”看起来更随机、更像普通用户的网络活动。

### 它有什么好处？

  * **对抗 DPI 指纹识别**：通过参数的动态变化，使得基于固定指纹的深度包检测（DPI）更难识别出您的代理流量。
  * **增强隐蔽性**：让您的流量模式“淹没”在海量的普通互联网流量中。

### 我需要做什么？

**依然是全自动的。** 系统已经为您配置了不同周期的定时任务，会自动执行不同程度的随机化。

如果您想手动管理，可以使用以下命令：

| 命令 | 功能说明 |
| :--- | :--- |
| `edgeboxctl traffic randomize [level]` | 手动执行一次流量特征随机化。您可以指定级别：`light`（轻度，每日执行）、`medium`（中度，每周执行）、`heavy`（重度，每月执行）。 |
| `edgeboxctl traffic status` | 查看随机化系统的当前状态和定时任务配置。 |
| `edgeboxctl traffic reset` | 将所有协议参数重置为脚本的默认值。 |

**总结**: EdgeBox 的高级安全功能被设计为“即装即忘”的全自动化系统。您无需进行任何额外操作，就能享受到持续的、动态的安全防护。`edgeboxctl` 提供的命令则是您在需要时进行检查和手动干预的强大工具。

-----
